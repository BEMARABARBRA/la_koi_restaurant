<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="La-Koi Restaurant & Lounge - Full Alcoholic Drinks Menu">
  <title>La-Koi Luxury Alcoholic Menu</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="alcoholic_drinks.css">

  <!-- STYLES FOR CART & FLOATING BUTTON ONLY -->
  <style>
    /* Floating WhatsApp Button */
    .whatsapp-footer-btn {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background-color: #25D366;
      color: white;
      padding: 10px 20px;
      border-radius: 50px;
      text-decoration: none;
      font-weight: bold;
      font-family: 'Poppins', sans-serif;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .whatsapp-footer-btn:hover { background-color: #1ebc57; }

    /* Cart Floating Icon */
    .cart-float {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #6d2a17; /* Gold to match your theme */
      border: 2px solid gold;
      color: #000;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
      z-index: 1000;
      transition: transform 0.2s;
    }
    .cart-float span {
      position: absolute;
      top: 0;
      right: 0;
      background: red;
      color: white;
      font-size: 12px;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
    }

    /* Cart Drawer (Hidden by default) */
    .cart-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0, 0.7);
      z-index: 1001;
      display: none;
    }
    .cart-overlay.open { display: block; }

    .cart-drawer {
      position: fixed; top: 0; right: -100%; width: 320px; height: 100%;
      background: white;
      color: #333;
      z-index: 1002;
      transition: right 0.3s ease;
      display: flex;
      flex-direction: column;
      box-shadow: -5px 0 15px rgba(0,0,0,0.5);
    }
    .cart-drawer.open { right: 0; }

    .cart-header {
      padding: 20px;
      background: #612412;
      color: #D4AF37;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid #D4AF37;
    }
    .close-cart { font-size: 30px; cursor: pointer; color: white; }
    
    #cart-items-area {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      background: #f4f4f4;
    }
    
    .cart-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      border-bottom: 1px solid #ddd;
      padding-bottom: 10px;
    }
    .row-info .r-name { font-weight: bold; font-size: 14px; }
    .row-info .r-price { font-size: 12px; color: #df0f0f; }

    .row-controls {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .qty-btn {
      background: #ddd; border: none; width: 25px; height: 25px; cursor: pointer; font-weight: bold; border-radius: 4px;
    }

    .cart-footer {
      padding: 20px;
      background: white;
      border-top: 1px solid #eee;
    }
    .total-line {
      display: flex; justify-content: space-between; font-size: 18px; font-weight: bold; margin-bottom: 15px;
    }
    .checkout-btn {
      display: block;
      width: 100%;
      background: #25D366;
      color: white;
      text-align: center;
      padding: 15px;
      border-radius: 5px;
      text-decoration: none;
      font-weight: bold;
    }
    
    /* Style for the new 'Add to Cart' button inside your existing cards */
    .add-to-cart-btn {
      background: transparent;
      border: 1px solid #D4AF37;
      color: #D4AF37; /* Gold */
      padding: 5px 10px;
      cursor: pointer;
      width: 100%;
      margin-top: 10px;
      border-radius: 4px;
      transition: 0.3s;
    }
    .add-to-cart-btn:hover {
      background: #D4AF37;
      color: #000;
    }
  </style>
</head>

<body>
  <a href="index.html" class="back-btn">Home</a>

<section class="split-menu">
  <div class="menu-content">
    <h1 class="menu-title">ALCOHOLIC MENU</h1>

    <h2 class="section-title">Beers & Ciders</h2>
    <div class="drink-grid">
      <div class="drink-item" data-name="Local Beer" data-price="5000"></div>
      <div class="drink-item" data-name="Imported Beer" data-price="12000"></div>
      <div class="drink-item" data-name="Hunter's Cider" data-price="12000"></div>
      <div class="drink-item" data-name="Savanna Dry" data-price="12000"></div>
    </div>

    <h2 class="section-title">Champagne & Sparkling</h2>
    <div class="drink-grid">
      <div class="drink-item" data-name="Veuve Clicquot Brut" data-price="500000"></div>
      <div class="drink-item" data-name="Moet & Chandon Imperial" data-price="450000"></div>
      <div class="drink-item" data-name="Baron D'Arignac Blanc" data-price="150000"></div>
      <div class="drink-item" data-name="Anabelle Cuvee Rose" data-price="150000"></div>
      <div class="drink-item" data-name="JP Chenet Sparkling" data-price="150000"></div>
    </div>

    <h2 class="section-title">Wines (By Glass)</h2>
    <div class="drink-grid">
      <div class="drink-item" data-name="Rooiberg Chardonnay (Glass)" data-price="15000"></div>
      <div class="drink-item" data-name="Rooiberg Blanc (Glass)" data-price="15000"></div>
      <div class="drink-item" data-name="Four Cousins White (Glass)" data-price="15000"></div>
      <div class="drink-item" data-name="Rooiberg Red Sweet (Glass)" data-price="15000"></div>
      <div class="drink-item" data-name="Four Cousins Red (Glass)" data-price="15000"></div>
      <div class="drink-item" data-name="KWV Rose (Glass)" data-price="15000"></div>
    </div>

    <h2 class="section-title">Wines (By Bottle)</h2>
    <div class="drink-grid">
      <div class="drink-item" data-name="Nederburg Pinotage" data-price="100000"></div>
      <div class="drink-item" data-name="Rooiberg Chardonnay" data-price="100000"></div>
      <div class="drink-item" data-name="Calvet Sauvignon Blanc" data-price="100000"></div>
      <div class="drink-item" data-name="Four Cousins Nat. Sweet" data-price="100000"></div>
      <div class="drink-item" data-name="KWV Classic Collection" data-price="100000"></div>
      <div class="drink-item" data-name="Rooiberg Nat. Sweet" data-price="80000"></div>
      <div class="drink-item" data-name="Rooiberg Cab. Sauvignon" data-price="80000"></div>
    </div>

    <h2 class="section-title">Whiskey & Malts (Shots)</h2>
    <div class="drink-grid">
      <div class="drink-item" data-name="Jameson (Single)" data-price="9000"></div>
      <div class="drink-item" data-name="Jameson (Double)" data-price="16000"></div>
      <div class="drink-item" data-name="JW Black Label (Single)" data-price="9000"></div>
      <div class="drink-item" data-name="JW Black Label (Double)" data-price="17000"></div>
      <div class="drink-item" data-name="Singleton 12yrs (Single)" data-price="12000"></div>
      <div class="drink-item" data-name="Singleton 12yrs (Double)" data-price="20000"></div>
      <div class="drink-item" data-name="Glenfiddich 15yrs (Single)" data-price="22000"></div>
      <div class="drink-item" data-name="Glenfiddich 15yrs (Double)" data-price="40000"></div>
      <div class="drink-item" data-name="Jack Daniels (Single)" data-price="9000"></div>
      <div class="drink-item" data-name="Bond 7 (Double)" data-price="8000"></div>
    </div>

    <h2 class="section-title">Whiskey & Malts (Bottles)</h2>
    <div class="drink-grid">
      <div class="drink-item" data-name="JW 18 Years" data-price="500000"></div>
      <div class="drink-item" data-name="Glenfiddich 15yrs" data-price="600000"></div>
      <div class="drink-item" data-name="Glenlivet 15yrs" data-price="600000"></div>
      <div class="drink-item" data-name="JW Gold Reserve" data-price="400000"></div>
      <div class="drink-item" data-name="JW Double Black" data-price="300000"></div>
      <div class="drink-item" data-name="Singleton 12yrs" data-price="280000"></div>
      <div class="drink-item" data-name="Jameson 750ml" data-price="160000"></div>
    </div>

    <h2 class="section-title">Gin (Shots)</h2>
    <div class="drink-grid">
      <div class="drink-item" data-name="Tanqueray (Single)" data-price="7000"></div>
      <div class="drink-item" data-name="Tanqueray (Double)" data-price="13000"></div>
      <div class="drink-item" data-name="Ug Waragi (Single)" data-price="3000"></div>
      <div class="drink-item" data-name="Ug Waragi (Double)" data-price="6000"></div>
      <div class="drink-item" data-name="Gilbeys (Single)" data-price="4000"></div>
      <div class="drink-item" data-name="Gilbeys (Double)" data-price="8000"></div>
    </div>

    <h2 class="section-title">Gin (Bottles)</h2>
    <div class="drink-grid">
      <div class="drink-item" data-name="Tanqueray Ldn Dry" data-price="190000"></div>
      <div class="drink-item" data-name="Gordons Gin" data-price="120000"></div>
      <div class="drink-item" data-name="Beefeater Gin" data-price="120000"></div>
      <div class="drink-item" data-name="Gilbeys 750ml" data-price="90000"></div>
      <div class="drink-item" data-name="Ug Waragi 750ml" data-price="70000"></div>
      <div class="drink-item" data-name="Billionaer Gin" data-price="250000"></div>
    </div>

    <h2 class="section-title">Vodka (Shots)</h2>
    <div class="drink-grid">
      <div class="drink-item" data-name="Ciroc Original (Single)" data-price="10000"></div>
      <div class="drink-item" data-name="Ciroc Original (Double)" data-price="18000"></div>
      <div class="drink-item" data-name="Absolut Blue (Single)" data-price="8000"></div>
      <div class="drink-item" data-name="Absolut Blue (Double)" data-price="14000"></div>
      <div class="drink-item" data-name="Smirnoff (Single)" data-price="4000"></div>
      <div class="drink-item" data-name="Smirnoff (Double)" data-price="8000"></div>
    </div>

    <h2 class="section-title">Vodka (Bottles)</h2>
    <div class="drink-grid">
      <div class="drink-item" data-name="Ciroc Original" data-price="350000"></div>
      <div class="drink-item" data-name="Stolichnaya" data-price="200000"></div>
      <div class="drink-item" data-name="Absolut Blue" data-price="160000"></div>
      <div class="drink-item" data-name="Smirnoff Vodka" data-price="100000"></div>
      <div class="drink-item" data-name="Billionaer Vodka" data-price="250000"></div>
    </div>

    <h2 class="section-title">Cognac & Liqueurs</h2>
    <div class="drink-grid">
      <div class="drink-item" data-name="Hennessy VSOP (Bottle)" data-price="600000"></div>
      <div class="drink-item" data-name="Remy Martin VSOP (Bottle)" data-price="450000"></div>
      <div class="drink-item" data-name="Hennessy VS (Single)" data-price="16000"></div>
      <div class="drink-item" data-name="Baileys 1Ltr" data-price="220000"></div>
      <div class="drink-item" data-name="Amarula 1Ltr" data-price="200000"></div>
      <div class="drink-item" data-name="Jagermeister" data-price="180000"></div>
    </div>

  </div>
  <div class="menu-image"></div>
</section>

<!-- Whatsapp Footer Button -->
<a href="#" id="wa-footer-btn" target="_blank" class="whatsapp-footer-btn">
  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" width="20" alt="WA">
  Chat on WhatsApp
</a>

<!-- Cart Components -->
<div class="cart-float" id="cart-float">ðŸ›’ <span id="cart-count">0</span></div>
<div class="cart-overlay" id="cart-overlay"></div>
<div class="cart-drawer" id="cart-drawer">
  <div class="cart-header">
    <h3>Your Order</h3>
    <span class="close-cart" id="close-cart">Ã—</span>
  </div>
  <div id="cart-items-area"><p style="text-align:center; margin-top:50px;">Your cart is empty.</p></div>
  <div class="cart-footer">
    <div class="total-line"><span>Total:</span><span id="cart-total">0/=</span></div>
    <a href="#" id="checkout-btn" class="checkout-btn" target="_blank">Confirm & Send Order</a>
  </div>
</div>

<script>
// ======= Configuration =======
const CART_KEY = "lakoi_cart"; // This connects the cart to other pages
const PHONE_NUMBER = "256779384198"; 

// ======= 1. Setup Card Buttons =======
document.querySelectorAll(".drink-item").forEach(card => {
  const name = card.dataset.name;
  const price = parseInt(card.dataset.price);

  // We are keeping your original layout but replacing the complex counter with an "Add to Cart" button
  // This is necessary to make the global shopping cart work smoothly.
  card.innerHTML = `
    <div class="drink-header">
      <h3>${name}</h3>
      <span>${price.toLocaleString()}/=</span>
    </div>
    <button class="add-to-cart-btn" data-name="${name}" data-price="${price}">
      Add to Cart
    </button>
  `;
});

// ======= 2. Global WhatsApp Function =======
function getWhatsAppLink(phone, messageText) {
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    const encodedText = messageText ? `&text=${encodeURIComponent(messageText)}` : "";
    
    if (isMobile) {
        return `https://api.whatsapp.com/send?phone=${phone}${encodedText}`;
    } else {
        return `https://web.whatsapp.com/send?phone=${phone}${encodedText}`;
    }
}

// Setup floating inquiry button
document.getElementById("wa-footer-btn").href = getWhatsAppLink(PHONE_NUMBER, "Hello La-Koi, I have a question about the Drinks Menu.");

// ======= 3. Cart Logic =======
let cart = JSON.parse(localStorage.getItem(CART_KEY)) || {};

function addToCart(name, price){
    if (cart[name]) {
        cart[name].qty++;
    } else {
        cart[name] = { price: +price, qty: 1 };
    }
    
    // Animate cart icon
    const cartFloat = document.getElementById('cart-float');
    cartFloat.style.transform = 'scale(1.2)';
    setTimeout(() => cartFloat.style.transform = 'scale(1)', 200);

    updateUI();
}

function changeQty(name, amt){
    if(!cart[name]) return;
    cart[name].qty += amt;
    if(cart[name].qty <= 0) delete cart[name];
    updateUI();
}

function updateUI(){
    const itemsArea = document.getElementById("cart-items-area");
    const totalEl = document.getElementById("cart-total");
    const countEl = document.getElementById("cart-count");
    const checkoutBtn = document.getElementById("checkout-btn");
    
    let total = 0, count = 0;
    let msg = "Hello La-Koi, I would like to place an order:\n\n";
    
    itemsArea.innerHTML = "";

    for(let name in cart){
        let item = cart[name];
        let subTotal = item.price * item.qty;
        
        total += subTotal;
        count += item.qty;
        msg += `â–ªï¸ ${name} (x${item.qty}) - ${subTotal.toLocaleString()}/=\n`;

        const div = document.createElement("div");
        div.className = "cart-row";
        div.innerHTML = `
        <div class="row-info">
            <span class="r-name">${name}</span>
            <span class="r-price">${item.price.toLocaleString()}/=</span>
        </div>
        <div class="row-controls">
            <button class="qty-btn" data-name="${name}" data-amt="-1">âˆ’</button>
            <span>${item.qty}</span>
            <button class="qty-btn" data-name="${name}" data-amt="1">+</button>
        </div>
        `;
        itemsArea.appendChild(div);
    }

    if(count === 0) {
        itemsArea.innerHTML = '<p style="text-align:center; margin-top:50px;">Your cart is empty.</p>';
        checkoutBtn.href = "#";
        checkoutBtn.style.opacity = "0.5";
        checkoutBtn.style.pointerEvents = "none";
    } else {
        msg += `\n*TOTAL: ${total.toLocaleString()}/=*`;
        checkoutBtn.href = getWhatsAppLink(PHONE_NUMBER, msg);
        checkoutBtn.style.opacity = "1";
        checkoutBtn.style.pointerEvents = "auto";
    }
    
    totalEl.innerText = total.toLocaleString()+"/=";
    countEl.innerText = count;

    localStorage.setItem(CART_KEY, JSON.stringify(cart));

    document.querySelectorAll(".qty-btn").forEach(btn=>{
        btn.onclick = ()=>changeQty(btn.dataset.name, +btn.dataset.amt);
    });
}

// Sync cart across pages
window.addEventListener('storage', function(e) {
    if (e.key === CART_KEY) {
        cart = JSON.parse(e.newValue) || {};
        updateUI();
    }
});

// Toggle Cart
function toggleCart(){
    document.getElementById("cart-drawer").classList.toggle("open");
    document.getElementById("cart-overlay").classList.toggle("open");
}

// Events
document.querySelectorAll(".add-to-cart-btn").forEach(btn => {
    btn.onclick = () => {
        addToCart(btn.dataset.name, btn.dataset.price);
    };
});

document.getElementById("cart-float").onclick = toggleCart;
document.getElementById("cart-overlay").onclick = toggleCart;
document.getElementById("close-cart").onclick = toggleCart;

// Init
updateUI();
</script>
</body>
</html>