<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ================= SEO OPTIMIZATION ================= -->
    <title>La-Koi | Crazy Chefs Discounts & Daily Deals</title>
    <meta name="description" content="Enjoy amazing daily discounts on fresh juice, cocktails, Nyama Choma, whole fish, and more at La-Koi Restaurant. Order online via WhatsApp for fast delivery!">
    <meta name="keywords" content="La-Koi Deals, Discounts, Nyama Choma, Cocktails, Whole Fish, Kampala Restaurant Offers, Order Food Online, WhatsApp Food Delivery">
    <meta name="author" content="La-Koi Restaurant">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph (Social Media Previews) -->
    <meta property="og:title" content="La-Koi | Crazy Chefs Discounts">
    <meta property="og:description" content="Satisfy your cravings every day with our exclusive daily deals. Order instantly via WhatsApp!">
    <meta property="og:type" content="website">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
    
    <!-- External Deals CSS -->
    <link rel="stylesheet" href="deals.css">

    <!-- ================= INJECTED UI CSS (Cart & Floating Buttons) ================= -->
    <style>
        /* Floating WhatsApp Inquiry Button (Bottom Left) */
        .wa-inquiry-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: #25D366;
            color: #fff;
            padding: 12px 20px;
            border-radius: 30px;
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: 0.3s ease-in-out;
        }
        .wa-inquiry-btn:hover {
            background-color: #1ebe57;
            transform: scale(1.05);
        }

        /* Floating Cart Button (Bottom Right) */
        .cart-float { 
            position: fixed; bottom: 20px; right: 20px; background-color: #612412; color: #fff; padding: 15px; border-radius: 50%; font-size: 1.5rem; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.3); z-index: 1000; transition: 0.3s; display: flex; align-items: center; justify-content: center; width: 65px; height: 65px; border: 2px solid gold;
        }
        .cart-float:hover { transform: scale(1.1); background-color: #fca311; }
        #cart-count { position: absolute; top: -5px; right: -5px; background: red; color: white; border-radius: 50%; padding: 2px 8px; font-size: 0.85rem; font-weight: bold; border: 2px solid white; }
        
        /* Cart Drawer */
        .cart-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 1001; visibility: hidden; opacity: 0; transition: 0.3s; }
        .cart-drawer { position: fixed; top: 0; right: -450px; width: 100%; max-width: 450px; height: 100vh; background: #fff; z-index: 1002; box-shadow: -5px 0 15px rgba(0,0,0,0.2); transition: 0.4s ease-in-out; display: flex; flex-direction: column; color: #333; font-family: 'Montserrat', sans-serif; }
        .cart-overlay.open { visibility: visible; opacity: 1; }
        .cart-drawer.open { right: 0; }
        .cart-header { display: flex; justify-content: space-between; align-items: center; padding: 20px; background: #612412; color: #fff; }
        .cart-header h3 { margin: 0; font-size: 1.3rem;}
        .close-cart { font-size: 2rem; cursor: pointer; line-height: 1; }
        #cart-items-area { flex: 1; padding: 20px; overflow-y: auto; }
        .cart-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #eee; }
        .row-info .r-name { font-weight: bold; font-size: 1rem; color: #14213d; }
        .row-info .r-price { color: #fca311; font-weight: 600; font-size: 0.95rem; }
        .row-controls { display: flex; align-items: center; gap: 10px;  }
        .qty-btn { background: #f8f9fa; border: 1px solid #ccc; padding: 5px 12px; cursor: pointer; border-radius: 5px; color: #333; font-weight: bold; transition: 0.2s; }
        .qty-btn:hover { background: #e2e6ea; }
        .cart-footer { padding: 20px; border-top: 2px solid #eee; background: #f8f9fa; }
        .total-line { display: flex; justify-content: space-between; font-size: 1.3rem; font-weight: bold; margin-bottom: 15px; color:#14213d;}
        .checkout-btn { width: 100%; padding: 15px; background: #25D366; color: white; border: none; border-radius: 8px; font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: 0.3s; display: block; text-align: center; text-decoration: none; box-sizing: border-box; }
        .checkout-btn:hover { background: #1ebe57; }
        .empty-msg { text-align: center; color: #888; margin-top: 30px; font-style: italic; }

        /* Mobile Responsiveness for Buttons */
        @media (max-width: 768px) {
            .wa-inquiry-btn { bottom: 15px; left: 10px; padding: 10px 15px; font-size: 0.9rem; }
            .cart-float { bottom: 15px; right: 10px; width: 55px; height: 55px; font-size: 1.2rem; }
            #cart-count { padding: 2px 6px; font-size: 0.75rem; }
            .cart-drawer { max-width: 100%; right: -100%; }
        }
    </style>
</head>
<body>

    <a href="index.html" class="back-btn" aria-label="Go back to Home">Home</a>

    <!-- Decorative Background Elements -->
    <div class="bg-decor">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>

    <!-- Header Section -->
    <header>
        <div class="logo-area">
            <h1>La-Koi</h1>
            <p>Restaurant & Lounge</p>
        </div>
        <div class="header-text">
            <h2>Satisfy Your Cravings Every Day</h2>
            <p>CRAZY CHEFS DISCOUNTS</p>
        </div>
    </header>

    <!-- Menu Section -->
    <main class="menu-container">

        <!-- MONDAY -->
        <div class="menu-card theme-green">
            <div class="card-content">
                <span class="day-badge">MONDAY</span>
                <h3>Fresh Juice</h3>
                <p class="offer-desc">Start your week fresh! Was 10k, now only 7k.</p>
                <div class="price-action">
                    <span class="price">7,000 /=</span>
                    <button class="add-btn" onclick="addToCart('Monday Fresh Juice', 7000)">Add to Cart</button>
                </div>
            </div>
            <div class="card-image">
                <img src="la_koi_photos/juiceglasses.png" alt="Fresh Juice" loading="lazy">
            </div>
        </div>

        <!-- TUESDAY -->
        <div class="menu-card theme-brown reverse">
            <div class="card-content">
                <span class="day-badge">TUESDAY</span>
                <h3>Cocktail Experience</h3>
                <p class="offer-desc">Buy One, Get One Free on all cocktails!</p>
                <div class="price-action">
                    <span class="price">15,000 /= <small>(Est. Base)</small></span>
                    <button class="add-btn" onclick="addToCart('Tuesday Cocktail (BOGO)', 15000)">Add to Cart</button>
                </div>
            </div>
            <div class="card-image">
                <img src="la_koi_photos/coctails1.jpeg" alt="Cocktails" loading="lazy">
            </div>
        </div>

        <!-- WEDNESDAY -->
        <div class="menu-card theme-green">
            <div class="card-content">
                <span class="day-badge">WEDNESDAY</span>
                <h3>Cold Beer & Nyama Choma</h3>
                <p class="offer-desc">5-beer bundle for 20k accompanied by Nyama Choma.</p>
                <div class="price-action">
                    <span class="price">20,000 /=</span>
                    <button class="add-btn" onclick="addToCart('Wed 5-Beer & Nyama Choma', 20000)">Add to Cart</button>
                </div>
            </div>
            <div class="card-image">
                <img src="la_koi_photos/ugandanbeers.webp" alt="Beer and Meat" loading="lazy">
            </div>
        </div>

        <!-- THURSDAY -->
        <div class="menu-card theme-brown reverse">
            <div class="card-content">
                <span class="day-badge">THURSDAY</span>
                <h3>Students Day</h3>
                <p class="offer-desc">Buy crispy fries @5k and get a FREE ice cream!</p>
                <div class="price-action">
                    <span class="price">5,000 /=</span>
                    <button class="add-btn" onclick="addToCart('Thu Fries + Free Ice Cream', 5000)">Add to Cart</button>
                </div>
            </div>
            <div class="card-image">
                <img src="la_koi_photos/friesplain.jpeg" alt="Fries and Ice Cream" loading="lazy">
            </div>
        </div>

        <!-- FRIDAY -->
        <div class="menu-card theme-green">
            <div class="card-content">
                <span class="day-badge">FRIDAY</span>
                <h3>Beer & DJ Night</h3>
                <p class="offer-desc">5-beer bundle for 20k to enjoy with a live DJ!</p>
                <div class="price-action">
                    <span class="price">20,000 /=</span>
                    <button class="add-btn" onclick="addToCart('Friday 5-Beer Bundle', 20000)">Add to Cart</button>
                </div>
            </div>
            <div class="card-image">
                <img src="la_koi_photos/nighclub_dancing.jpeg" alt="Beers" loading="lazy">
            </div>
        </div>

        <!-- WEEKEND -->
        <div class="menu-card theme-brown reverse">
            <div class="card-content">
                <span class="day-badge">WEEKEND SPECIAL</span>
                <h3>Fish Lovers</h3>
                <p class="offer-desc">Get 15% off on our delicious whole fish.</p>
                <div class="price-action">
                    <span class="price">30,000 /= <small>(Est. After Disc)</small></span>
                    <button class="add-btn" onclick="addToCart('Weekend Whole Fish (15% off)', 30000)">Add to Cart</button>
                </div>
            </div>
            <div class="card-image">
                <img src="la_koi_photos/twowholefish.png" alt="Whole Fish" loading="lazy">
            </div>
        </div>

    </main>

    <!-- ======================================================= -->
    <!-- FLOATING ACTION BUTTONS & GLOBAL CART                   -->
    <!-- ======================================================= -->

    <!-- Floating WhatsApp Inquiry Button (Bottom Left) -->
    <a href="#" id="wa-inquiry-link" target="_blank" class="wa-inquiry-btn" aria-label="Ask a question on WhatsApp">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
          <path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"/>
        </svg>
        Inquiry
    </a>

    <!-- Global Cart HTML (Bottom Right) -->
    <div class="cart-float" id="cart-float" aria-label="Open Shopping Cart" role="button">
        üõí <span id="cart-count">0</span>
    </div>
    
    <div class="cart-overlay" id="cart-overlay"></div>
    <aside class="cart-drawer" id="cart-drawer" aria-label="Shopping Cart">
        <div class="cart-header">
            <h3>Your Order</h3>
            <span class="close-cart" id="close-cart" aria-label="Close Cart">&times;</span>
        </div>
        <div id="cart-items-area"><p class="empty-msg">Your cart is empty.</p></div>
        <div class="cart-footer">
            <div class="total-line"><span>Total:</span><span id="cart-total">0/=</span></div>
            <a href="#" id="checkout-btn" class="checkout-btn" target="_blank">Confirm & Send Order</a>
        </div>
    </aside>

    <!-- ================= JAVASCRIPT LOGIC ================= -->
    <script>
        // 1. Unified Memory Key (Shares Cart Across All Pages)
        const CART_KEY = "lakoi_cart"; 
        const waPhoneNumber = "256779384198"; // Updated Unified Contact Number
        let cart = JSON.parse(localStorage.getItem(CART_KEY)) || {};

        // 2. Universal WhatsApp Link Generator (Detects Mobile vs PC)
        function getWhatsAppLink(phoneNumber, messageText = "") {
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            const encodedText = messageText ? `&text=${encodeURIComponent(messageText)}` : "";
            if (isMobile) {
                return `https://api.whatsapp.com/send?phone=${phoneNumber}${encodedText}`;
            } else {
                return `https://web.whatsapp.com/send?phone=${phoneNumber}${encodedText}`;
            }
        }

        // Setup Floating Inquiry Button automatically on page load
        const inquiryMsg = "Hello La-Koi, I have an inquiry regarding the Crazy Discounts...";
        document.getElementById("wa-inquiry-link").href = getWhatsAppLink(waPhoneNumber, inquiryMsg);

        // 3. Cart Core Functions
        function addToCart(name, price){
            if(cart[name]) {
                cart[name].qty += 1;
            } else {
                cart[name] = { price: +price, qty: 1 };
            }
            updateUI();
            triggerCartAnimation();
            
            // Optionally auto-open the cart to show item was added
            document.getElementById("cart-drawer").classList.add("open");
            document.getElementById("cart-overlay").classList.add("open");
        }

        function changeQty(name, amt){
            if(!cart[name]) return;
            cart[name].qty += amt;
            if(cart[name].qty <= 0) delete cart[name];
            updateUI();
        }

        function triggerCartAnimation() {
            const cartFloat = document.getElementById('cart-float');
            cartFloat.style.transform = 'scale(1.2)';
            setTimeout(() => cartFloat.style.transform = 'scale(1)', 200);
        }

        // 4. Master UI Updater
        function updateUI(){
            const itemsArea = document.getElementById("cart-items-area");
            const totalEl = document.getElementById("cart-total");
            const countEl = document.getElementById("cart-count");
            const checkoutBtn = document.getElementById("checkout-btn");
            
            let total = 0, count = 0;
            let msg = "Hello La-Koi, I would like to order:\n\n";
            
            itemsArea.innerHTML = "";

            for(let name in cart){
                let item = cart[name];
                let subTotal = item.price * item.qty;
                total += subTotal;
                count += item.qty;
                msg += `‚ñ™Ô∏è ${name} (x${item.qty}) - ${subTotal.toLocaleString()}/=\n`;

                // Build Drawer Row
                const div = document.createElement("div");
                div.className = "cart-row";
                div.innerHTML = `
                <div class="row-info">
                    <div class="r-name">${name}</div>
                    <div class="r-price">${item.price.toLocaleString()}/=</div>
                </div>
                <div class="row-controls">
                    <button class="qty-btn" aria-label="Decrease quantity" onclick="changeQty('${name}', -1)">‚àí</button>
                    <span>${item.qty}</span>
                    <button class="qty-btn" aria-label="Increase quantity" onclick="changeQty('${name}', 1)">+</button>
                </div>
                `;
                itemsArea.appendChild(div);
            }

            if(count === 0) {
                itemsArea.innerHTML = '<p class="empty-msg">Your cart is empty.</p>';
                checkoutBtn.href = "#"; 
            } else {
                msg += `\n*TOTAL: ${total.toLocaleString()}/=*`;
                checkoutBtn.href = getWhatsAppLink(waPhoneNumber, msg);
            }
            
            totalEl.innerText = total.toLocaleString()+"/=";
            countEl.innerText = count;

            // Save to browser memory globally
            localStorage.setItem(CART_KEY, JSON.stringify(cart));
        }

        // Cross-tab synchronization (Syncs if they open other menus in another tab)
        window.addEventListener('storage', function(e) {
            if (e.key === CART_KEY) {
                cart = JSON.parse(e.newValue) || {};
                updateUI();
            }
        });

        // 5. Drawer Toggle Logic
        function toggleCart(){
            document.getElementById("cart-drawer").classList.toggle("open");
            document.getElementById("cart-overlay").classList.toggle("open");
        }

        document.getElementById("cart-float").onclick = toggleCart;
        document.getElementById("cart-overlay").onclick = toggleCart;
        document.getElementById("close-cart").onclick = toggleCart;

        document.getElementById("checkout-btn").onclick = function(e) {
            if(Object.keys(cart).length === 0){
                e.preventDefault(); 
                alert("Your cart is empty. Please add items first."); 
            }
        };

        // Run UI update on initial load
        updateUI();
    </script>
</body>
</html>